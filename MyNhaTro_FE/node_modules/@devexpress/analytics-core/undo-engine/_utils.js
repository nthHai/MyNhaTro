/**
* DevExpress Analytics (undo-engine\_utils.js)
* Version:  22.2.14
* Build date: Oct 28, 2024
* Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
* License: https://www.devexpress.com/Support/EULAs/universal.xml
*/
import * as ko from 'knockout';
export function propertiesVisitor(target, visitor, visited = [], skip = ['surface']) {
    if (target && target !== undefined) {
        var properties = [];
        Object.keys(target).forEach((propertyName) => {
            if (propertyName.indexOf('_') !== 0 && skip.indexOf(propertyName) === -1) {
                var realPropertyName = propertyName;
                if (ko.isComputed(target[propertyName]) && ko.isWritableObservable(target['_' + propertyName])) {
                    realPropertyName = '_' + realPropertyName;
                }
                if (visited.indexOf(target[realPropertyName]) === -1 && !ko.isComputed(target[realPropertyName])) {
                    properties.push(target[realPropertyName]);
                }
            }
        });
        visitor(properties);
        visited.push.apply(visited, properties);
        properties.forEach((property) => {
            property = ko.unwrap(property);
            if (typeof property === 'object') {
                propertiesVisitor(property, visitor, visited, skip);
            }
        });
    }
}
export function checkModelReady(model) {
    return model.isModelReady ? model.isModelReady() : true;
}
export function guid() {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
        return v.toString(16);
    });
}
