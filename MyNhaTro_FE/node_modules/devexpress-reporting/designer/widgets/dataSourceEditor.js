/**
* DevExpress HTML/JS Reporting (designer\widgets\dataSourceEditor.js)
* Version:  22.2.14
* Build date: Oct 28, 2024
* Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
* License: https://www.devexpress.com/Support/EULAs/universal.xml
*/
import { Editor } from '@devexpress/analytics-core/analytics-widgets';
import * as ko from 'knockout';
export class DataSourceEditor extends Editor {
    dispose() {
        super.dispose();
        this._getEditorOptions = null;
    }
    getEditorOptions(dataSourceHelper, undoEngine, popupContainer) {
        if (!this._getEditorOptions) {
            var _dataSourceHelper = ko.unwrap(dataSourceHelper);
            var items = ko.computed(() => _dataSourceHelper && _dataSourceHelper.usedDataSources());
            this._disposables.push(items);
            this._getEditorOptions = {
                items: items,
                value: _dataSourceHelper && _dataSourceHelper.dataSourceValue(this.value, undoEngine),
                valueExpr: 'name',
                displayExpr: _dataSourceHelper && _dataSourceHelper.dataSourceDisplayExpr,
                displayCustomValue: true,
                disabled: this.disabled,
                dropDownOptions: { container: popupContainer },
                popupPosition: { boundary: popupContainer },
                useItemTextAsTitle: true
            };
        }
        return this._getEditorOptions;
    }
}
