/**
* DevExpress HTML/JS Reporting (viewer\accessibility\_searchKeyboardHelper.js)
* Version:  22.2.14
* Build date: Oct 28, 2024
* Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
* License: https://www.devexpress.com/Support/EULAs/universal.xml
*/
import { formatUnicorn, getLocalization, ListKeyboardHelper } from '@devexpress/analytics-core/analytics-internal';
export class SearchKeyboardHelper extends ListKeyboardHelper {
    constructor(searchModel) {
        super();
        this.liveRegionId = 'dxrd-preview-search-live-region';
        this._disposables.push(searchModel.searchResult.subscribe(result => {
            if (result.length > 0)
                this.liveRegion().changeText(formatUnicorn(getLocalization('{0} results are available', 'ASPxReportsStringId.WebDocumentViewer_AriaSearchResultsAvailable'), result.length));
            else if (!searchModel.loading() && !!searchModel.searchText())
                this.liveRegion().changeText(searchModel.noResultText());
        }));
        this._disposables.push(searchModel.searchText.subscribe(inputValue => {
            if (!!inputValue)
                this.liveRegion().changeText(formatUnicorn(getLocalization('You searched for {0}', 'ASPxReportsStringId.WebDocumentViewer_AriaSearchString'), '"' + inputValue + '"'));
        }));
    }
}
